class profile::base{
  include motd
  create_resources('service', hiera_hash('service', {}))
  create_resources('package', hiera_hash('package', {}))
  create_resources('file', hiera_hash('file', {}))
  create_resources('user', hiera_hash('user', {}))
  
  case $::osfamily {
   'debian': {
     include profile::base::debain
   }
   'redhat': {
     include profile::base::redhat
   }
   'windows': {
     include profile::base:windows
   }
   default: {
     fail("This profile is not compaitable with your platform")
   }
  }
}
